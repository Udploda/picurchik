# meta developer: @kanal_ikca and @cmert_hikki
from telethon import events
from .. import loader, utils
import asyncio

class MetaInfoMod(loader.Module):
    """Ğ½ĞµĞ´Ğ¾ÑĞºÑ€Ğ¸Ğ¿Ñ‚ dox swat deanon"""
    
    strings = {"name": "Ğ¿Ğ¸ÑÑÑ€Ğ¸Ğº"}
    
    def __init__(self):
        self.default_text = "Ğ¿Ğ°Ğ½Ğ¸Ğ¾Ğ»Ğ¾Ñ„ ÑĞ¾ÑĞ°Ğ» ĞºÑÑ‚Ğ°"
    
    @loader.command()
    async def metainfo(self, message):
        """Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ: .metainfo (Ğ² Ğ¾Ñ‚Ğ²ĞµÑ‚ Ğ½Ğ° ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğµ)
        Ğ´Ğ¾ĞºÑĞµÑ‚ Ğ»Ğ°Ñ…Ğ°(Ğ»Ğ°Ñ…Ğ°ÑˆĞºÑƒ)"""
        
        if not message.is_reply:
            await message.edit("âŒ ĞÑ‚Ğ²ĞµÑ‚ÑŒÑ‚Ğµ Ğ½Ğ° ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğµ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ")
            return
            
        # ĞŸĞ¾Ğ»ÑƒÑ‡Ğ°ĞµĞ¼ Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ñ Ğ¾ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ğµ
        user = await message.get_reply_message()
        user_info = await message.client.get_entity(user.sender_id)
        
        # Ğ¡Ğ¾Ğ·Ğ´Ğ°ĞµĞ¼ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğµ Ñ Ğ¼ĞµÑ‚Ğ°Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸ĞµĞ¹
        meta_text = f"""ğŸ‘¤ <b>Ğ´Ğ¾ĞºÑ Ğ¸Ğ¿Ğ°Ğ½Ğ¸:</b>

ğŸ†” ID: <code>{user_info.id}</code>
ğŸ‘¤ Ğ˜Ğ¼Ñ: <code>{user_info.first_name}</code>
ğŸ“ Ğ¤Ğ°Ğ¼Ğ¸Ğ»Ğ¸Ñ: <code>{user_info.last_name if user_info.last_name else 'ĞĞµÑ‚'}</code>
ğŸ”— Username: <code>@{user_info.username if user_info.username else 'ĞĞµÑ‚'}</code>
ğŸ“± Ğ¢ĞµĞ»ĞµÑ„Ğ¾Ğ½: <code>{user_info.phone if hasattr(user_info, 'phone') and user_info.phone else 'ĞĞµÑ‚'}</code>

ğŸ’¬ {self.default_text}"""
        
        # ĞÑ‚Ğ¿Ñ€Ğ°Ğ²Ğ»ÑĞµĞ¼ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğµ
        await message.edit(meta_text, parse_mode='html')
    
    @loader.command()
    async def deanon(self, message):
        """Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ: .deanon (Ğ² Ğ¾Ñ‚Ğ²ĞµÑ‚ Ğ½Ğ° ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğµ)
        Ğ´ĞµĞ°Ğ½Ğ¾Ğ½Ğ¸Ñ‚ Ğ½Ğ°Ñ…ÑƒĞ¹"""
        
        if not message.is_reply:
            await message.edit("âŒ ĞÑ‚Ğ²ĞµÑ‚ÑŒÑ‚Ğµ Ğ½Ğ° ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğµ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ")
            return
            
        # ĞŸĞ¾Ğ»ÑƒÑ‡Ğ°ĞµĞ¼ Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ñ Ğ¾ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ğµ
        user = await message.get_reply_message()
        user_info = await message.client.get_entity(user.sender_id)
        
        # Ğ—ĞµĞ»ĞµĞ½Ğ°Ñ Ğ·Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ°
        loading_steps = [
            "ğŸŸ¢â¬œâ¬œâ¬œâ¬œâ¬œâ¬œâ¬œâ¬œâ¬œ 10%",
            "ğŸŸ¢ğŸŸ¢â¬œâ¬œâ¬œâ¬œâ¬œâ¬œâ¬œâ¬œ 20%",
            "ğŸŸ¢ğŸŸ¢ğŸŸ¢â¬œâ¬œâ¬œâ¬œâ¬œâ¬œâ¬œ 30%",
            "ğŸŸ¢ğŸŸ¢ğŸŸ¢ğŸŸ¢â¬œâ¬œâ¬œâ¬œâ¬œâ¬œ 40%",
            "ğŸŸ¢ğŸŸ¢ğŸŸ¢ğŸŸ¢ğŸŸ¢â¬œâ¬œâ¬œâ¬œâ¬œ 50%",
            "ğŸŸ¢ğŸŸ¢ğŸŸ¢ğŸŸ¢ğŸŸ¢ğŸŸ¢â¬œâ¬œâ¬œâ¬œ 60%",
            "ğŸŸ¢ğŸŸ¢ğŸŸ¢ğŸŸ¢ğŸŸ¢ğŸŸ¢ğŸŸ¢â¬œâ¬œâ¬œ 70%",
            "ğŸŸ¢ğŸŸ¢ğŸŸ¢ğŸŸ¢ğŸŸ¢ğŸŸ¢ğŸŸ¢ğŸŸ¢â¬œâ¬œ 80%",
            "ğŸŸ¢ğŸŸ¢ğŸŸ¢ğŸŸ¢ğŸŸ¢ğŸŸ¢ğŸŸ¢ğŸŸ¢ğŸŸ¢â¬œ 90%",
            "ğŸŸ¢ğŸŸ¢ğŸŸ¢ğŸŸ¢ğŸŸ¢ğŸŸ¢ğŸŸ¢ğŸŸ¢ğŸŸ¢ğŸŸ¢ 100%"
        ]
        
        for step in loading_steps:
            await message.edit(f"â³ Ğ”Ğ•ĞĞĞĞ: {step}")
            await asyncio.sleep(0.5)
        
        # Ğ¤Ğ¾Ñ€Ğ¼Ğ¸Ñ€ÑƒĞµĞ¼ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğµ Ñ Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸ĞµĞ¹
        deanon_text = f"""â”‚ã€ğŸ˜ã€â”‚ï½¢Ğ˜Ğ¼Ñï½£ - Ğ”Ğ¸Ğ»Ğ´ÑƒĞ½

â”‚ã€ğŸ‘¨â€â¤ï¸â€ğŸ’‹â€ğŸ‘¨ã€â”‚ï½¢Ğ¤Ğ°Ğ¼Ğ¸Ğ»Ğ¸Ñï½£ - Ğ“Ğ°Ğ½Ğ´Ğ¾Ğ½Ğ¾Ğ²Ğ¸Ñ‡

â”‚ã€ğŸ¤¥ã€â”‚ï½¢ĞÑ‚Ñ‡ĞµÑÑ‚Ğ²Ğ¾ï½£- Ğ­Ñ€Ğ¾Ğ½Ğ´Ğ¾Ğ´Ğ¾Ğ½Ğ¾Ğ²Ğ¸Ñ‡

â”‚ã€ğŸ¤®ã€â”‚ï½¢ÑĞ·ĞµÑ€Ğ½ĞµĞ¹Ğ¼ï½£ - Ğ½ĞµÑ‚Ñƒ Ğ¿Ğ¾Ñ‚Ğ¾Ğ¼Ñƒ Ñ‡Ñ‚Ğ¾ Ğ±Ğ¾Ğ¼Ğ¶

â”‚ã€ğŸ‘©â€ğŸ«ã€â”‚ï½¢ĞœĞ°Ñ‚ÑŒï½£ ÑĞ¾ÑĞµÑ‚ Ñ…ÑƒĞ¸ Ğ·Ğ° 2.52 Ñ€ÑƒĞ±Ğ»Ñ

â”‚ã€ğŸ’©ã€â”‚ï½¢ĞÑ‚ĞµÑ†ï½£ - Ğ¡Ğ½Ğ¸ĞºĞµÑ€Ñ ĞµĞ±Ğ°Ğ½Ğ½Ñ‹Ğ¹ Ğ±Ğ»ÑĞ´ÑŒ

â”‚ã€ğŸ—‘ï¸ã€â”‚ï½¢ĞŸÑ€Ğ¾Ğ¶Ğ¸Ğ²Ğ°Ğ½Ğ¸Ğµï½£ - Ğ¼ÑƒÑĞ¾Ñ€ĞºĞ° ÑÑƒÑĞ»Ğ¸ĞºĞ° 52

â”‚ã€ğŸ©¸ã€â”‚ï½¢idï½£ - {user_info.id}"""
        
        # ĞÑ‚Ğ¿Ñ€Ğ°Ğ²Ğ»ÑĞµĞ¼ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğµ
        await message.edit(deanon_text)
    
    @loader.command()
    async def doxgram(self, message):
        """Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ: .doxgram
        ÑÑÑ‹Ğ¾ĞºĞ° Ğ½Ğ° Ğ´Ğ¾ĞºÑĞ³Ñ€Ğ°m"""
        
        # Ğ”Ğ»Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ°Ñ Ğ·Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ° Ñ Ñ€Ğ°Ğ·Ğ½Ñ‹Ğ¼Ğ¸ ÑÑ‚Ğ°Ğ¿Ğ°Ğ¼Ğ¸
        loading_steps = [
            "ğŸ” ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° ĞºĞ¾Ğ½Ñ„Ğ¸Ğ´ĞµĞ½Ñ†Ğ¸Ğ°Ğ»ÑŒĞ½Ğ¾ÑÑ‚Ğ¸...",
            "ğŸ“‚ ĞŸĞ¾Ğ¸ÑĞº Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ²...",
            "ğŸ”’ Ğ Ğ°ÑÑˆĞ¸Ñ„Ñ€Ğ¾Ğ²ĞºĞ° Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…...",
            "ğŸ“Š ĞĞ½Ğ°Ğ»Ğ¸Ğ· Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ğ¸...",
            "ğŸ”„ Ğ—Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ° Ñ„Ğ°Ğ¹Ğ»Ğ°...",
            "âœ… ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ñ†ĞµĞ»Ğ¾ÑÑ‚Ğ½Ğ¾ÑÑ‚Ğ¸...",
            "ğŸš€ ĞŸĞ¾Ğ´Ğ³Ğ¾Ñ‚Ğ¾Ğ²ĞºĞ° Ğº Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²ĞºĞµ...",
            "ğŸ“¤ ĞÑ‚Ğ¿Ñ€Ğ°Ğ²ĞºĞ° Ñ„Ğ°Ğ¹Ğ»Ğ°...",
            "âœ¨ ĞÑ‡Ğ¸ÑÑ‚ĞºĞ° ÑĞ»ĞµĞ´Ğ¾Ğ²...",
            "ğŸ‰ Ğ—Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ° Ğ·Ğ°Ğ²ĞµÑ€ÑˆĞµĞ½Ğ°!"
        ]
        
        for step in loading_steps:
            await message.edit(f"â³ {step}")
            await asyncio.sleep(1.5)  # Ğ‘Ğ¾Ğ»ĞµĞµ Ğ´Ğ»Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ°Ñ Ğ·Ğ°Ğ´ĞµÑ€Ğ¶ĞºĞ° Ğ´Ğ»Ñ ÑÑ„Ñ„ĞµĞºÑ‚Ğ°
        
        # Ğ¤Ğ¾Ñ€Ğ¼Ğ¸Ñ€ÑƒĞµĞ¼ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğµ ÑĞ¾ ÑÑÑ‹Ğ»ĞºĞ¾Ğ¹
        doxgram_text = f"""ğŸ”— Ğ”ĞµÑ€Ğ¶Ğ¸ ÑÑÑ‹Ğ»ĞºÑƒ Ñ‡Ñ‚Ğ¾Ğ±Ñ‹ ÑĞºĞ°Ñ‡Ğ°Ñ‚ÑŒ Ğ´Ğ¾ĞºÑĞ³Ñ€Ğ°Ğ¼:

https://clck.ru/3LAQyk"""
        
        # ĞÑ‚Ğ¿Ñ€Ğ°Ğ²Ğ»ÑĞµĞ¼ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğµ
        await message.edit(doxgram_text)
    
    @loader.command()
    async def helpic(self, message):
        """Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ: .helpic
        ĞŸĞ¾ĞºĞ°Ğ·Ñ‹Ğ²Ğ°ĞµÑ‚ Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ñ Ğ¾ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ°Ñ…"""
        
        help_text = """ğŸ“± <b>ĞšĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ‹ Ğ¼Ğ¾Ğ´ÑƒĞ»Ñ:</b>

ğŸ” <b>.metainfo</b> - Ğ´Ğ¾ĞºÑĞµÑ‚ Ğ»Ğ°Ñ…Ğ°(Ğ»Ğ°Ñ…Ğ°ÑˆĞºÑƒ)
   

ğŸ‘¤ <b>.deanon</b> - Ğ´ĞµĞ°Ğ½Ğ¾Ğ½Ğ¸Ñ‚ Ğ½Ğ°Ñ…ÑƒĞ¹
   

ğŸ”— <b>.doxgram</b> - ÑÑÑ‹Ğ¾ĞºĞ° Ğ½Ğ° Ğ´Ğ¾ĞºÑĞ³Ñ€Ğ°m
   Ğ¡ĞºĞ°Ñ‡Ğ°Ñ‚ÑŒ DoxGram Ğ±ĞµĞ· Ğ½Ğ°ĞµĞ¿Ğ°

by x and paniolof"""
        
        # ĞÑ‚Ğ¿Ñ€Ğ°Ğ²Ğ»ÑĞµĞ¼ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğµ
        await message.edit(help_text, parse_mode='html')
    
    @loader.command()
    async def swat(self, message):
        """Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ: .swat (Ğ² Ğ¾Ñ‚Ğ²ĞµÑ‚ Ğ½Ğ° ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğµ)
        swat Ğ½Ğ°Ñ…ÑƒĞ¹"""
        
        if not message.is_reply:
            await message.edit("âŒ ĞÑ‚Ğ²ĞµÑ‚ÑŒÑ‚Ğµ Ğ½Ğ° ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğµ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ")
            return
            
        # ĞŸĞ¾Ğ»ÑƒÑ‡Ğ°ĞµĞ¼ Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ñ Ğ¾ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ğµ
        user = await message.get_reply_message()
        user_info = await message.client.get_entity(user.sender_id)
        
        # Ğ—Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ° Ñ ÑÑ‚Ğ°Ğ¿Ğ°Ğ¼Ğ¸ swat Ğ¾Ğ¿ĞµÑ€Ğ°Ñ†Ğ¸Ğ¸
        loading_steps = [
            "ğŸ” ĞŸĞ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ IP Ğ°Ğ´Ñ€ĞµÑĞ°...",
            "ğŸ“± ĞĞ¿Ñ€ĞµĞ´ĞµĞ»ĞµĞ½Ğ¸Ğµ Ğ¼ĞµÑÑ‚Ğ¾Ğ¿Ğ¾Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ...",
            "ğŸš” ĞÑ‚Ğ¿Ñ€Ğ°Ğ²ĞºĞ° Ğ¿Ğ°Ñ‚Ñ€ÑƒĞ»Ñ...",
            "ğŸ‘® ĞŸĞ¾Ğ´Ğ³Ğ¾Ñ‚Ğ¾Ğ²ĞºĞ° SWAT ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ‹...",
            "ğŸš¨ ĞĞºÑ€ÑƒĞ¶ĞµĞ½Ğ¸Ğµ Ğ·Ğ´Ğ°Ğ½Ğ¸Ñ...",
            "ğŸ’¥ Ğ’Ğ·Ğ»Ğ¾Ğ¼ Ğ´Ğ²ĞµÑ€ĞµĞ¹...",
            "ğŸ”« Ğ—Ğ°Ñ‡Ğ¸ÑÑ‚ĞºĞ° Ğ¿Ğ¾Ğ¼ĞµÑ‰ĞµĞ½Ğ¸Ñ...",
            "ğŸ‘®â€â™‚ï¸ Ğ—Ğ°Ğ´ĞµÑ€Ğ¶Ğ°Ğ½Ğ¸Ğµ Ğ¿Ğ¾Ğ´Ğ¾Ğ·Ñ€ĞµĞ²Ğ°ĞµĞ¼Ğ¾Ğ³Ğ¾...",
            "ğŸš“ Ğ”Ğ¾ÑÑ‚Ğ°Ğ²ĞºĞ° Ğ² ÑƒÑ‡Ğ°ÑÑ‚Ğ¾Ğº...",
            "ğŸ“ Ğ¡Ğ¾ÑÑ‚Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ¿Ñ€Ğ¾Ñ‚Ğ¾ĞºĞ¾Ğ»Ğ°..."
        ]
        
        for step in loading_steps:
            await message.edit(f"â³ SWAT ĞĞŸĞ•Ğ ĞĞ¦Ğ˜Ğ¯: {step}")
            await asyncio.sleep(1.5)
        
        # Ğ¤Ğ¾Ñ€Ğ¼Ğ¸Ñ€ÑƒĞµĞ¼ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğµ Ñ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ğ¾Ğ¼
        swat_text = f"""ğŸš¨ <b>SWAT ĞĞŸĞ•Ğ ĞĞ¦Ğ˜Ğ¯ Ğ—ĞĞ’Ğ•Ğ Ğ¨Ğ•ĞĞ</b>

ğŸ‘®â€â™‚ï¸ ĞŸĞ¾Ğ´Ğ¾Ğ·Ñ€ĞµĞ²Ğ°ĞµĞ¼Ñ‹Ğ¹: <code>{user_info.first_name}</code>
ğŸ†” ID: <code>{user_info.id}</code>

ğŸ“ Ğ ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚ Ğ¾Ğ¿ĞµÑ€Ğ°Ñ†Ğ¸Ğ¸:
â€¢ Ğ¢Ğ²Ğ¾Ğ¹ Ñ…ÑƒĞ¹ Ğ±Ñ‹Ğ» Ğ´ĞµÑ„Ğ¾Ñ€Ğ¼Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½
â€¢ Ğ—Ğ°Ğ±Ñ€Ğ°Ğ½ Ğ² Ğ¿Ğ¾Ğ»Ğ¸Ñ†ĞµĞ¹ÑĞºĞ¸Ğ¹ Ğ´ĞµĞ¿Ğ°Ñ€Ñ‚Ğ°Ğ¼ĞµĞ½Ñ‚
â€¢ ĞĞ¶Ğ¸Ğ´Ğ°ĞµÑ‚ ÑÑƒĞ´ĞµĞ±Ğ½Ğ¾Ğ³Ğ¾ Ñ€Ğ°Ğ·Ğ±Ğ¸Ñ€Ğ°Ñ‚ĞµĞ»ÑŒÑÑ‚Ğ²Ğ°

âš–ï¸ ĞŸÑ€Ğ¸Ğ³Ğ¾Ğ²Ğ¾Ñ€: ĞŸĞ¾Ğ¶Ğ¸Ğ·Ğ½ĞµĞ½Ğ½Ğ¾Ğµ Ğ·Ğ°ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ğµ Ğ² ĞºĞ°Ğ¼ĞµÑ€Ğµ Ñ Ñ€ĞµÑˆĞµÑ‚ĞºĞ¾Ğ¹"""
        
        # ĞÑ‚Ğ¿Ñ€Ğ°Ğ²Ğ»ÑĞµĞ¼ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğµ
        await message.edit(swat_text, parse_mode='html') 